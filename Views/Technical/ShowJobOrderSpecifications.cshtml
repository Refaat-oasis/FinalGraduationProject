@model ThothSystemVersion1.ViewModels.JobOrderSpecificationsViewModel

@{
    ViewData["Title"] = "تفاصيل التشغيلة";
}

<h1>@ViewData["Title"]</h1>

<!-- Job Order Details -->
<div class="card p-3 mb-4">
    <h3>بيانات التشغيلة</h3>
    <dl class="row">
        <dt class="col-sm-3">@Html.DisplayNameFor(m => m.JobOrderId)</dt>
        <dd class="col-sm-9">@Model.JobOrderId</dd>

        <dt class="col-sm-3">@Html.DisplayNameFor(m => m.RemainingAmount)</dt>
        <dd class="col-sm-9">@Model.RemainingAmount</dd>

        <dt class="col-sm-3">@Html.DisplayNameFor(m => m.UnearnedRevenue)</dt>
        <dd class="col-sm-9">@Model.UnearnedRevenue</dd>

        <dt class="col-sm-3">@Html.DisplayNameFor(m => m.JobOrdernotes)</dt>
        <dd class="col-sm-9">@Model.JobOrdernotes</dd>

        <dt class="col-sm-3">@Html.DisplayNameFor(m => m.OrderProgress)</dt>
        <dd class="col-sm-9">@Model.OrderProgress</dd>

        <dt class="col-sm-3">@Html.DisplayNameFor(m => m.CustomerName)</dt>
        <dd class="col-sm-9">@Model.CustomerName</dd>

        <!-- You can add additional fields as needed -->
    </dl>
</div>

@* <!-- Inks Table --> *@
@* <div class="card p-3 mb-4"> *@
@*     <h3>الأحبار</h3> *@
@*     <table class="table table-bordered"> *@
@*         <thead> *@
@*             <tr> *@
@*                 <th>اسم الحبر</th> *@
@*                 <th>الكمية</th> *@
@*             </tr> *@
@*         </thead> *@
@*         <tbody> *@
@*             @if (Model.Inks != null && Model.Inks.Any()) *@
@*             { *@
@*                 foreach (var ink in Model.Inks) *@
@*                 { *@
@*                     <tr> *@
@*                         <td>@ink.Name</td> *@
@*                         <td>@ink.Quantity</td> *@
@*                     </tr> *@
@*                 } *@
@*             } *@
@*             else *@
@*             { *@
@*                 <tr> *@
@*                     <td colspan="2">لا توجد بيانات</td> *@
@*                 </tr> *@
@*             } *@
@*         </tbody> *@
@*     </table> *@
@* </div> *@

@* <!-- Papers Table --> *@
@* <div class="card p-3 mb-4"> *@
@*     <h3>الأوراق</h3> *@
@*     <table class="table table-bordered"> *@
@*         <thead> *@
@*             <tr> *@
@*                 <th>اسم الورق</th> *@
@*                 <th>الكمية</th> *@
@*             </tr> *@
@*         </thead> *@
@*         <tbody> *@
@*             @if (Model.Papers != null && Model.Papers.Any()) *@
@*             { *@
@*                 foreach (var paper in Model.Papers) *@
@*                 { *@
@*                     <tr> *@
@*                         <td>@paper.Name</td> *@
@*                         <td>@paper.Quantity</td> *@
@*                     </tr> *@
@*                 } *@
@*             } *@
@*             else *@
@*             { *@
@*                 <tr> *@
@*                     <td colspan="2">لا توجد بيانات</td> *@
@*                 </tr> *@
@*             } *@
@*         </tbody> *@
@*     </table> *@
@* </div> *@

@* <!-- Supplies Table --> *@
@* <div class="card p-3 mb-4"> *@
@*     <h3>المستلزمات</h3> *@
@*     <table class="table table-bordered"> *@
@*         <thead> *@
@*             <tr> *@
@*                 <th>اسم المستلزمات</th> *@
@*                 <th>الكمية</th> *@
@*             </tr> *@
@*         </thead> *@
@*         <tbody> *@
@*             @if (Model.Supplies != null && Model.Supplies.Any()) *@
@*             { *@
@*                 foreach (var supply in Model.Supplies) *@
@*                 { *@
@*                     <tr> *@
@*                         <td>@supply.Name</td> *@
@*                         <td>@supply.Quantity</td> *@
@*                     </tr> *@
@*                 } *@
@*             } *@
@*             else *@
@*             { *@
@*                 <tr> *@
@*                     <td colspan="2">لا توجد بيانات</td> *@
@*                 </tr> *@
@*             } *@
@*         </tbody> *@
@*     </table> *@
@* </div> *@

<!-- Employees Table -->
<div class="card p-3 mb-4">
    <h3>الموظفون</h3>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>اسم الموظف</th>
                <th>الدور الوظيفي</th>

            </tr>
        </thead>
        <tbody>
            @if (Model.Employees != null && Model.Employees.Any())
            {
                foreach (var employee in Model.Employees)
                {
                    <tr>
                        <td>@employee.EmployeeName</td>
                        <td>@employee.JobRole</td>

                    </tr>
                }
            }
            else
            {
                <tr>
                    <td>لا توجد بيانات</td>
                </tr>
            }
        </tbody>
    </table>
</div>

<!-- Labours Table -->
<div class="card p-3 mb-4">
    <h3>العمليات</h3>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>اسم العمليه</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Labours != null && Model.Labours.Any())
            {
                foreach (var labour in Model.Labours)
                {
                    <tr>
                        <td>@labour.LabourProcessName</td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td>لا توجد بيانات</td>
                </tr>
            }
        </tbody>
    </table>
</div>

<!-- Machines Table -->
<div class="card p-3 mb-4">
    <h3>الآلات</h3>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>اسم الآلة</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Machines != null && Model.Machines.Any())
            {
                foreach (var machine in Model.Machines)
                {
                    <tr>
                        <td>@machine.MachineProcessName</td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td>لا توجد بيانات</td>
                </tr>
            }
        </tbody>
    </table>
</div>
@if (Model.QuantityBridges?.Any() == true && Model.RequisiteId != null)
{
    <h2>الكميات المسحوبة</h2>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>الصنف </th>
                <th>الكمية</th>
                <th>السعر</th>
                <!-- إضافة أعمدة أخرى حسب الحاجة -->
            </tr>
        </thead>
        <tbody>

            @foreach (QuantityBridge paper in Model.QuantityBridges)
            {
                <tr>


                    @{
                        for (int i = 0; i < Model.Papers.Count; i++)

                        {
                            if (paper.PaperId == Model.Papers[i].PaperId)
                            {
                                <td>@Model.Papers[i].Name</td>
                                <td>@paper.Quantity</td>
                                <td>@paper.Price</td>
                            }
                        }
                    }

                </tr>
            }
            @foreach (QuantityBridge ink in Model.QuantityBridges)
            {
                <tr>


                    @{
                        for (int i = 0; i < Model.Inks.Count; i++)

                        {
                            if (ink.InkId == Model.Inks[i].InkId)
                            {
                                <td>@Model.Inks[i].Name</td>
                                <td>@ink.Quantity</td>
                                <td>@ink.Price</td>
                            }
                        }
                    }

                </tr>
            }

            @foreach (QuantityBridge s in Model.QuantityBridges)
            {
                <tr>


                    @{
                        for (int i = 0; i < Model.Supplies.Count; i++)

                        {
                            if (s.SuppliesId == Model.Supplies[i].SuppliesId)
                            {
                                <td>@Model.Supplies[i].Name</td>
                                <td>@s.Quantity</td>
                                <td>@s.Price</td>
                            }
                        }
                    }

                </tr>
            }
        </tbody>
    </table>
}


@if (Model.QuantityBridges?.Any() == true && Model.ReturnId != null)
{
    <h2>الكميات المرتجعة</h2>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th> الصنف</th>
                <th>الكمية</th>
                <th>السعر</th>
                <!-- إضافة أعمدة أخرى حسب الحاجة -->
            </tr>
        </thead>
        <tbody>
            @foreach (QuantityBridge paper in Model.QuantityBridges)
            {
                <tr>


                    @{
                        for (int i = 0; i < Model.Papers.Count; i++)

                        {
                            if (paper.PaperId == Model.Papers[i].PaperId)
                            {
                                <td>@Model.Papers[i].Name</td>

                                <td>@paper.Quantity</td>
                                <td>@paper.Price</td>
                            }
                        }
                    }

                </tr>
            }
            @foreach (QuantityBridge ink in Model.QuantityBridges)
            {
                <tr>


                    @{
                        for (int i = 0; i < Model.Inks.Count; i++)

                        {
                            if (ink.InkId == Model.Inks[i].InkId)
                            {
                                <td>@Model.Inks[i].Name</td>
                                <td>@ink.Quantity</td>
                                <td>@ink.Price</td>
                            }
                        }
                    }

                </tr>
            }

            @foreach (QuantityBridge s in Model.QuantityBridges)
            {
                <tr>


                    @{
                        for (int i = 0; i < Model.Supplies.Count; i++)

                        {
                            if (s.SuppliesId == Model.Supplies[i].SuppliesId)
                            {
                                <td>@Model.Supplies[i].Name</td>
                                <td>@s.Quantity</td>
                                <td>@s.Price</td>
                            }
                        }
                    }

                </tr>
            }
        </tbody>
    </table>
}

@if (Model.ProcessBridges?.Any() == true)
{
    <h2>العمليات المرتبطة</h2>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>معرف العملية</th>
                <th>ساعات العمل</th>
                <th>تكلفة الآلة</th>
                <th>تكلفة العمالة</th>
                <!-- إضافة أعمدة أخرى حسب الحاجة -->
            </tr>
        </thead>
        <tbody>
            @foreach (var pb in Model.ProcessBridges)
            {
                <tr>
                    <td>@pb.ProcessBridgeId</td>
                    <td>@pb.NumberOfHours</td>
                    <td>@pb.TotalMachineValue</td>
                    <td>@pb.TotalLabourValue</td>
                </tr>
            }
        </tbody>
    </table>
}