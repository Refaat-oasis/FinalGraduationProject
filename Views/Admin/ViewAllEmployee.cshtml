@model List<Employee>;

<style>
    body {
        text-align: center;
        background: url("/image/background - Copy.jpg");
        justify-content: center;
        width: 100%;
        height: 100%;
        display: flex;
    }

    .container {
        position: fixed;
        width: 100%;
        height: 100%;
        /* backdrop-filter: blur(5px); */
        background: rgba(255, 255, 255, 0.2);
        background-color: transparent;
        background-size: cover;
    }

    h1 {
        color: white;
        margin: 20px;
        font-weight: 900;
        font-size: 50px;
    }

    .tableContainer {
        display: flex;
        justify-content: center;
        margin: 20px;
    }

    table {
        width: 80% auto;
        margin: 20px;
        border-collapse: collapse;
        background-color: white;
    }

    th, td {
        padding: 10px;
        border: 2px solid #333;
    }

    th {
        font-size: 20px;
    }

    .btn {
        margin: 20px;
    }

    button {
        background-color: black;
        color: white;
        border-radius: 10px;
        font-size: 20px;
        width: 100px;
        height: 40px;
    }
</style>

<div class="container">
    <h1>قائمة الموظفين</h1>
    <div class="tableContainer">
        <table id="employeeTable">

            <tr>
                <th>الاسم</th>
                <th>الدور الوظيفي</th>
                @{
                        foreach (Employee emp in Model)
                        {
                <tr>
                    <td>@emp.EmployeeName</td>
                    <td>@emp.JobRole</td>

                </tr>
                        }
                }
            </table>
        </div>

        <div class="btn">
            <button asp-action="Add">اضافة</button>
            <button asp-action="Edit">تعديل</button>
        </div>
    </div>

    <script>document.addEventListener("DOMContentLoaded", function () {
        const tableBody = document.getElementById("employeeTable");

        let employees = [];

        function loadEmployees() {
            employees = JSON.parse(localStorage.getItem("employees")) || [];
            displayEmployees();
        }

        function displayEmployees() {
            tableBody.innerHTML = `
                <tr>
                    <th>User Name</th>
                    <th>Name</th>
                    <th>Role</th>
                </tr>
            `;

            employees.forEach(emp => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${emp.employeeUserName}</td>
                    <td>${emp.employeeName}</td>
                    <td>${emp.jobRole}</td>
                `;
                row.addEventListener("click", () => selectEmployee(row, emp));
                tableBody.appendChild(row);
            });
        }

        let selectedEmployee = null;
        loadEmployees();
    });</script>