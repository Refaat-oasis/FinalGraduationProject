@model List<JobOrder>;
<style>
    body {
        text-align: center;
        background: url("/image/background - Copy.jpg");
        justify-content: center;
        width: 100%;
        height: 100%;
        display: flex;
    }

    .container {
        position: fixed;
        width: 100%;
        height: 100%;
        /* backdrop-filter: blur(5px); */
        background: rgba(255, 255, 255, 0.2);
        background-color: transparent;
        background-size: cover;
    }

    h1 {
        color: white;
        margin: 20px;
        font-weight: 900;
        font-size: 50px;
    }

    .tableContainer {
        display: flex;
        justify-content: center;
        margin: 20px;
    }

    table {
        width: 80% auto;
        margin: 20px;
        border-collapse: collapse;
        background-color: white;
    }

    th, td {
        padding: 10px;
        border: 2px solid #333;
    }

    th {
        font-size: 20px;
    }

    .btn {
        margin: 20px;
    }

    button {
        background-color: black;
        color: white;
        border-radius: 10px;
        font-size: 20px;
        width: 100px;
        height: 40px;
    }
</style>
<div class="container">
    <h1>الطلبيات</h1>
    <div class="tableContainer">
        <table id="jobOrderTable">
            <tr>
                <th>تاريخ البدء</th>
                <th>تاريخ الانتهاء</th>
                <th>حالة الطلب</th>
                <th>العميل</th>
            </tr>
            @{
                    foreach (JobOrder job in Model)
                    {
                <tr>
                    <td>@job.StartDate</td>
                    <td>@job.EndDate</td>
                    <td>@job.OrderProgress</td>
                    <td>@job.CustomerId</td>

                </tr>
                    }
            }
        </table>
    </div>
    <div class="btn">
        <button>اضافة</button>
        <button>تعديل</button>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const tableBody = document.getElementById("jobOrderTable");
        let jobOrders = [];

        function loadJobOrders() {
            jobOrders = JSON.parse(localStorage.getItem("jobOrders")) || [];
            displayJobOrders();
        }

        function displayJobOrders() {
            tableBody.innerHTML = `
                <tr>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Progress</th>
                    <th>Customer</th>
                </tr>
            `;

            jobOrders.forEach((job, index) => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${job.startDate}</td>
                    <td>${job.endDate}</td>
                    <td>${job.orderProgress}</td>
                    <td>${job.customerID}</td>
                `;
                row.addEventListener("click", () => selectJobOrder(row, index));
                tableBody.appendChild(row);
            });
        }

        let selectedJobIndex = null;
        loadJobOrders();
    });
</script>